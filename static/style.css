:root{
	--bg-gradient-start: #54585a;
	--bg-gradient-end: #54575a;
	--text-color: #333333;
	--nav-bg: #e6b619; /* warm brown/gold for header */
	--accent: #37d43f; /* gold accent */
	--card-bg: #ffffff;
	--muted-bg: #f9f9f9;
	--border-color: #4c4747;
	--heading-color: #2b2b2b;
	--link-color: #a5960d;
	--button-bg: #e9e3d0;
	--button-text: var(--nav-bg);
}

body{ font-family: Arial, sans-serif; margin:0; background: linear-gradient(to bottom, var(--bg-gradient-start), var(--bg-gradient-end)); color: var(--text-color); }
nav{ background: var(--nav-bg); padding:15px; text-align:center; }
nav a{ color: white; margin:0 15px; text-decoration:none; font-weight:bold; transition: color 0.3s; }
nav a:hover{ color: #ffd700; }
.container{ max-width:1200px; margin:20px auto; padding:20px; background: var(--card-bg); border-radius:10px; box-shadow:0 4px 8px rgba(0,0,0,0.1); }
h2,h3{ color: var(--heading-color); border-bottom:2px solid rgba(0,0,0,0.06); padding-bottom:5px; }
form{ margin:20px 0; display:flex; flex-direction:column; align-items:center; }
input, button{ padding:12px; margin:5px; width:250px; border:1px solid #ccc; border-radius:5px; font-size:16px; }
button{ background: var(--nav-bg); color:white; cursor:pointer; transition: background 0.3s; }
button:hover{ background: var(--accent); }
div.card{ margin:20px 0; padding:15px; border:1px solid var(--border-color); border-radius:8px; background: var(--muted-bg); }
ul{ list-style-type:none; padding:0; }
li{ margin:10px 0; }
li a{ padding:8px 12px; background: var(--nav-bg); color:white; border-radius:5px; text-decoration:none; display:block; }
li a:hover{ background: var(--accent); }

/* Responsive: Mobile */
@media (max-width:768px){ .container{ margin:10px; padding:10px; } input, button{ width:100%; } }

/* Dark theme overrides */
body.dark{
	--bg-gradient-start: #75787a;
	--bg-gradient-end: #748191;
	--text-color: #e6eef8;
	--nav-bg: #7f1183; /* dark warm header */
	--accent: #ffca43; /* darker gold accent */
	--card-bg: #071e27;
	--muted-bg: #0b1f20;
	--border-color: #6f8eb3;
	--heading-color: #e6eef8;
	--link-color: #ffd240;
	--button-bg: #afa7a7;
	--button-text: #e6eef8;
}

/* Headings in dark mode should be clearly visible */
body.dark .welcome-heading,
body.dark .features-heading{
	color: #ffffff;
	/* subtle shadow for extra contrast */
	text-shadow: 0 1px 2px rgba(0,0,0,0.65);
	transition: color .18s ease, text-shadow .18s ease;
}

/* Light explicit overrides (optional) */
/* no explicit light ruleset - root variables are the light defaults */

/* Accessibility: High contrast mode */
@media (prefers-contrast: high){
	body{ background:#000; color:#fff; }
	.container{ background:#111; border-color:#fff; }
}

/* Dashboard hero and feature grid */
.dashboard-hero{
	background-image: url('/static/background.jpg');
	background-size: cover;
	background-position: center;
	padding: 60px 20px;
}

/* App layout: header + sidebar + main */
.app{ display:grid; grid-template-columns: 240px 1fr; grid-template-rows: 64px 1fr; grid-template-areas: "sidebar header" "sidebar main"; min-height:100vh; }
.app-header{ grid-area: header; display:flex; align-items:center; justify-content:space-between; padding:0 20px; background:var(--nav-bg); color:white; }
.app-sidebar{ grid-area: sidebar; background:var(--nav-bg); border-right:1px solid var(--border-color); padding:20px; }
.app-main{ grid-area: main; padding:20px; background: var(--bg-gradient-start); }
.app-header .brand{ font-weight:bold; color:white; text-decoration:none; }
.app-sidebar nav ul{ padding:0; list-style:none; }
.app-sidebar nav li{ margin: 8px 0; }
.app-sidebar nav a{ color:#ffffff; text-decoration:none; display:block; padding:8px 10px; border-radius:6px; }
.app-sidebar nav a:hover{ background: rgba(255,255,255,0.04); color:#ffffff; }

@media (max-width:900px){
	.app{ grid-template-columns: 1fr; grid-template-rows: auto auto 1fr; grid-template-areas: "header" "sidebar" "main"; }
	.app-sidebar{ order:2; display:flex; overflow:auto; }
}
.dashboard-overlay{
	background: rgba(0,0,0,0.45);
	padding: 24px;
	border-radius: 12px;
	color: #fff;
	max-width: 1200px;
	margin: 0 auto;
}
.stats-panel{ display:flex; justify-content:space-around; gap:20px; margin-bottom:20px; }
.stats-panel div{ text-align:center; }
.stats-panel strong{ display:block; font-size:1.6em; }
.stats-panel span{ display:block; font-size:0.9em; color:rgba(255,255,255,0.85); }

.feature-grid{
	display:grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap:18px; align-items:start;
}
.feature-card{
	position:relative; width:100%; padding-top:100%; /* square ratio */
	border-radius:10px; overflow:hidden; box-shadow:0 4px 10px rgba(0,0,0,0.06); background:var(--card-bg); color:var(--text-color);
}
.feature-card a{ position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; text-decoration:none; color:var(--text-color); font-weight:600; font-size:1.02em; }
.feature-card a span{ display:block; margin-top:8px; font-size:0.95em; }
/* subtle accent stripe to indicate card type, keep low opacity */
.feature-card.db{ box-shadow:0 4px 10px rgba(0,0,0,0.06); border-top:4px solid rgba(212,175,55,0.12); }
.feature-card.profiles{ box-shadow:0 4px 10px rgba(0,0,0,0.06); border-top:4px solid rgba(76,175,80,0.10); }
.feature-card.charts{ box-shadow:0 4px 10px rgba(0,0,0,0.06); border-top:4px solid rgba(255,152,0,0.10); }
.feature-card.map{ box-shadow:0 4px 10px rgba(0,0,0,0.06); border-top:4px solid rgba(156,39,176,0.08); }
.feature-card.admin{ box-shadow:0 4px 10px rgba(0,0,0,0.06); border-top:4px solid rgba(211,47,47,0.10); }

.btn-back{ margin-bottom:18px; padding:8px 18px; border-radius:6px; background:var(--button-bg); color: var(--button-text); border:none; cursor:pointer; }
.last-updated{ text-align:center; color:rgba(255,255,255,0.8); margin-top:18px; }

/* Theme switch styles */
.theme-switch{ display:inline-block; vertical-align:middle; margin-left:12px; position:relative; }
.theme-switch input{ display:none; }
.switch-slider{ width:64px; height:34px; background:#cfcfcf; display:inline-block; border-radius:34px; position:relative; transition: background .18s ease; box-shadow: inset 0 1px 0 rgba(255,255,255,0.4); }
.switch-slider::after{ content:''; }
.switch-slider svg{ position:absolute; top:50%; transform:translateY(-50%); pointer-events:none; }
.switch-slider .icon-sun{ left:8px; color:#FFD54F; }
.switch-slider .icon-moon{ right:8px; color:#fff; opacity:0.8; }
.switch-slider::before{ content:''; }
.theme-switch input:checked + .switch-slider{ background:#2b3440; }
.theme-switch input:checked + .switch-slider .icon-sun{ opacity:0.3; }
.theme-switch input:checked + .switch-slider .icon-moon{ opacity:1; }

/* Tooltip */
.theme-switch[title]{ cursor:pointer; }
.theme-switch[title]:hover::after{ content:attr(title); position:absolute; top:-36px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); color:#fff; padding:6px 8px; border-radius:6px; font-size:12px; white-space:nowrap; }

/* Visually hidden (accessible) */
.visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px, 1px, 1px, 1px); white-space:nowrap; border:0; padding:0; margin:-1px; }

/* Mineral database cards */
.mineral-card{ border: 1px solid var(--border-color); border-radius:8px; padding:16px; background: var(--card-bg); color: var(--text-color); }
.mineral-title{ margin-top:0; color: var(--nav-bg); }
.mineral-desc{ margin:8px 0; color: var(--text-color); }
.mineral-price{ color: var(--text-color); font-weight:600; }

/* Ensure high contrast in dark mode */
body.dark .mineral-card{ background: #071127; border-color: #163244; }
body.dark .mineral-title{ color: #e6eef8; }
body.dark .mineral-desc, body.dark .mineral-price{ color: #d7e6f7; }

/* Collapsible description: show approx 3 lines and allow expand */
.mineral-desc .desc-content{ display:block; overflow:hidden; text-overflow:ellipsis; max-height:4.5em; /* ~3 lines */ line-height:1.5em; }
.mineral-desc .desc-toggle{ display:inline-block; margin-top:6px; background:transparent; border:1px solid rgba(0,0,0,0.08); padding:6px 10px; border-radius:6px; cursor:pointer; font-size:0.9em; }
.mineral-desc.expanded .desc-content{ max-height:1000px; }
.mineral-desc.expanded .desc-toggle{ border-color:rgba(0,0,0,0.12); }

/* Dark mode: ensure toggle visible */
body.dark .mineral-desc .desc-toggle{ border-color: rgba(255,255,255,0.12); color: #e6eef8; }
